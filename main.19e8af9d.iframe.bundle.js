(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{473:function(module,exports,__webpack_require__){__webpack_require__(474),__webpack_require__(637),__webpack_require__(638),__webpack_require__(852),__webpack_require__(853),__webpack_require__(856),__webpack_require__(857),__webpack_require__(855),__webpack_require__(854),__webpack_require__(858),__webpack_require__(859),module.exports=__webpack_require__(839)},547:function(module,exports){},638:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__(335)},839:function(module,exports,__webpack_require__){"use strict";(function(module){(0,__webpack_require__(335).configure)([__webpack_require__(840),__webpack_require__(841)],module,!1)}).call(this,__webpack_require__(190)(module))},840:function(module,exports){function webpackEmptyContext(req){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}webpackEmptyContext.keys=function(){return[]},webpackEmptyContext.resolve=webpackEmptyContext,module.exports=webpackEmptyContext,webpackEmptyContext.id=840},841:function(module,exports,__webpack_require__){var map={"./stories/Anime-Manger.stories.jsx":860};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id=841},846:function(module,exports,__webpack_require__){var api=__webpack_require__(424),content=__webpack_require__(847);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},847:function(module,exports,__webpack_require__){(exports=__webpack_require__(425)(!1)).push([module.i,".item{\r\n    width: 10em;\r\n    height: 2em;\r\n    display: grid;\r\n    justify-content: center;\r\n\r\n    background-image: linear-gradient(to bottom, #9eff88, #85d672);\r\n    margin-bottom: 2px;\r\n    /*--xyz-translate-y: -100%;*/\r\n    /*--xyz-ease: cubic-bezier(0.5, -1.5, 0.5, 1.5);*/\r\n}\r\nli.item.xyz-absolute{\r\n    z-index: 10;\r\n}\r\n.list-3{\r\n    display: grid;\r\n    flex-direction: row;\r\n    grid-template-columns: repeat(4, 15em);\r\n}\r\n\r\n.item-3{\r\n    width: 10em;\r\n    height: 2em;\r\n    background-image: linear-gradient(to bottom, #9eff88, #7bba69);\r\n    margin-bottom: 2px;\r\n}\r\n\r\n.my-xyz-move{\r\n    animation-name: moves-edges;\r\n}\r\n\r\n@keyframes moves-edges {\r\n    50% {\r\n        transform: translateX( calc( -1 * var(--xyz-translate-x) / 2) );\r\n    }\r\n    50.1% {\r\n        transform: translateX( calc( -1 * var(--xyz-translate-x) / 2) );\r\n    }\r\n\r\n}",""]),module.exports=exports},859:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var preview_namespaceObject={};__webpack_require__.r(preview_namespaceObject),__webpack_require__.d(preview_namespaceObject,"parameters",(function(){return parameters}));__webpack_require__(16),__webpack_require__(35),__webpack_require__(43),__webpack_require__(837),__webpack_require__(30),__webpack_require__(31),__webpack_require__(838);var client_api=__webpack_require__(865),esm=__webpack_require__(5),parameters={actions:{argTypesRegex:"^on[A-Z].*"}};function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}Object.keys(preview_namespaceObject).forEach((function(key){var value=preview_namespaceObject[key];switch(key){case"args":case"argTypes":return esm.a.warn("Invalid args/argTypes in config, ignoring.",JSON.stringify(value));case"decorators":return value.forEach((function(decorator){return Object(client_api.b)(decorator,!1)}));case"loaders":return value.forEach((function(loader){return Object(client_api.c)(loader,!1)}));case"parameters":return Object(client_api.d)(function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}({},value),!1);case"argTypesEnhancers":return value.forEach((function(enhancer){return Object(client_api.a)(enhancer)}));case"globals":case"globalTypes":var v={};return v[key]=value,Object(client_api.d)(v,!1);default:return console.log(key+" was not supported :( !")}}))},860:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"CounterMultiChildren",(function(){return Anime_Manger_stories_CounterMultiChildren})),__webpack_require__.d(__webpack_exports__,"CounterOneChild",(function(){return Anime_Manger_stories_CounterOneChild})),__webpack_require__.d(__webpack_exports__,"ShowHide",(function(){return Anime_Manger_stories_ShowHide})),__webpack_require__.d(__webpack_exports__,"ComponentList",(function(){return Anime_Manger_stories_ComponentList}));var toConsumableArray=__webpack_require__(453),objectWithoutProperties=__webpack_require__(451),slicedToArray=__webpack_require__(68),esm_extends=__webpack_require__(20),defineProperty=__webpack_require__(133),createForOfIteratorHelper=(__webpack_require__(12),__webpack_require__(38),__webpack_require__(193),__webpack_require__(43),__webpack_require__(8),__webpack_require__(96)),react=(__webpack_require__(362),__webpack_require__(17),__webpack_require__(44),__webpack_require__(42),__webpack_require__(46),__webpack_require__(135),__webpack_require__(54),__webpack_require__(259),__webpack_require__(30),__webpack_require__(31),__webpack_require__(390),__webpack_require__(842),__webpack_require__(0)),react_default=__webpack_require__.n(react),STATIC="static",ADD="added",REMOVE="removed",wmKeys=new WeakMap;function keyGenerator(item){var key=wmKeys.get(item);if(key)return key;var str="abcdefghijklmnop1234567890",random=Math.random,floor=Math.floor;return key=Array.from({length:4},(function(i){return str[floor(random()*str.length)]})).join("")}function usePrevious(value,initialValue,refValue){var ref=Object(react.useRef)(initialValue);return Object(react.useEffect)((function(){ref.current=value}),[null!=refValue?refValue:value]),ref.current}function useAppear(){var flag=Object(react.useRef)(!0);return Object(react.useEffect)((function(_){return flag.current=!1,function(_){return flag.current=!0}}),[]),flag.current}function useDebounceRender(){var renderRequested=Object(react.useRef)(!1),resolvers=Object(react.useRef)([]),_useState=Object(react.useState)([]),_useState2=Object(slicedToArray.a)(_useState,2),forceRender=(_useState2[0],_useState2[1]);return function render(){return new Promise((function(res,rej){resolvers.current.push(res),1!=renderRequested.current&&(renderRequested.current=!0,window.requestAnimationFrame((function(_){renderRequested.current=!1,forceRender([]);var _step,_iterator=Object(createForOfIteratorHelper.a)(resolvers.current);try{for(_iterator.s();!(_step=_iterator.n()).done;){(0,_step.value)()}}catch(err){_iterator.e(err)}finally{_iterator.f()}})))}))}}function useAnimeManager(tracking){var options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},oneAtATime=options.oneAtATime,useEffect=options.useEffect,_options$protectFastC=options.protectFastChanges,protectFastChanges=void 0===_options$protectFastC||_options$protectFastC,_useRef=Object(react.useRef)(new Map),map=_useRef.current,stateItems=useChangeIntersection(tracking,options),forceRender=useDebounceRender();return Object(react.useMemo)((function(_){var tempMap=new Map;stateItems.forEach((function(stateItem){var _prevItem$phase;stateItem.done=doneFactory(stateItem,forceRender,stateItems,map);var prevItem=map.get(stateItem.key);tempMap.set(stateItem.key,stateItem),map.delete(stateItem.key),stateItem.nextPhases=stateItem.nextPhases||(null==prevItem?void 0:prevItem.nextPhases)||[];var phase=stateItem.phase,prevPhase=stateItem.prevPhase=null!==(_prevItem$phase=null==prevItem?void 0:prevItem.phase)&&void 0!==_prevItem$phase?_prevItem$phase:STATIC;protectFastChanges&&phase!=STATIC&&prevPhase!=STATIC&&prevPhase!=phase&&(stateItem.nextPhases.push(phase),stateItem.phase=prevPhase)})),WARNS(map.size>0&&map.size%50==0&&oneAtATime,"overflow",map.size);var _step2,_iterator2=Object(createForOfIteratorHelper.a)(map);try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var _ref=_step2.value,_ref2=Object(slicedToArray.a)(_ref,2),state=(_ref2[0],_ref2[1]);stateItems.splice(state.from,0,state)}}catch(err){_iterator2.e(err)}finally{_iterator2.f()}var _step3,_iterator3=Object(createForOfIteratorHelper.a)(tempMap);try{for(_iterator3.s();!(_step3=_iterator3.n()).done;){var _ref3=_step3.value,_ref4=Object(slicedToArray.a)(_ref3,2),_key=_ref4[0],_state=_ref4[1];map.set(_key,_state)}}catch(err){_iterator3.e(err)}finally{_iterator3.f()}}),[stateItems]),useEffect&&useAnimeEffect(stateItems,options),oneAtATime?stateItems[0]:stateItems}function doneFactory(state,forceRender,stateItems,map){return function done(){var key=state.key,phase=state.phase;if(phase===ADD||"move"===phase)return state.phase=STATIC,forceRender().then((function(_){if(state.nextPhases.length)return state.phase=state.nextPhases.pop(),forceRender()}));if(phase===REMOVE){var index=stateItems.findIndex((function(state){return state.key===key}));return stateItems.splice(index,1),map.delete(state.key),forceRender()}}}function useChangeIntersection(tracking){var _key2,options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},key=options.key,generateKey=options.generateKey;key=null!==(_key2=key)&&void 0!==_key2?_key2:options;var currentArray=[tracking].flat(1),prevArray=usePrevious(currentArray,[],tracking),getKey=function getKey(item){var _item$key;return generateKey?keyGenerator(item):null!==(_item$key=item[key])&&void 0!==_item$key?_item$key:item};return Object(react.useMemo)((function(_){var _step4,unionMap=new Map,_iterator4=Object(createForOfIteratorHelper.a)(prevArray.entries());try{for(_iterator4.s();!(_step4=_iterator4.n()).done;){var _ref5=_step4.value,_ref6=Object(slicedToArray.a)(_ref5,2),i=_ref6[0],item=_ref6[1],k=getKey(item);unionMap.set(k,{item:item,key:k,phase:REMOVE,from:i,to:1/0})}}catch(err){_iterator4.e(err)}finally{_iterator4.f()}var _step5,_iterator5=Object(createForOfIteratorHelper.a)(currentArray.entries());try{for(_iterator5.s();!(_step5=_iterator5.n()).done;){var _ref7=_step5.value,_ref8=Object(slicedToArray.a)(_ref7,2),_i=_ref8[0],_item=_ref8[1],_k=getKey(_item),state=unionMap.get(_k),phase=state?_i===state.from?STATIC:"move":ADD;unionMap.set(_k,Object.assign({key:_k,from:1/0},state,{item:_item,phase:phase,to:_i}))}}catch(err){_iterator5.e(err)}finally{_iterator5.f()}var _step6,unionOrder=currentArray.map((function(item){var _item$key2;return null!==(_item$key2=item[key])&&void 0!==_item$key2?_item$key2:item})),_iterator6=Object(createForOfIteratorHelper.a)(unionMap);try{for(_iterator6.s();!(_step6=_iterator6.n()).done;){var _ref9=_step6.value,_ref10=Object(slicedToArray.a)(_ref9,2),obj=(_ref10[0],_ref10[1]);obj.phase===REMOVE&&unionOrder.splice(obj.from,0,obj.key)}}catch(err){_iterator6.e(err)}finally{_iterator6.f()}return unionOrder.map((function(key){return unionMap.get(key)}))}),[tracking])}function madeBoxesGetter(by,states,boxMap){return"byLocation"==by?function createLocationBoxes(states){var _step7,list=[],_iterator7=Object(createForOfIteratorHelper.a)(states);try{for(_iterator7.s();!(_step7=_iterator7.n()).done;){var state=_step7.value;list[state.to]=state}}catch(err){_iterator7.e(err)}finally{_iterator7.f()}return delete list[1/0],function locationBoxes(state){var _list$to$dom,_list$from$dom,from=state.from,to=state.to;return{box:null===(_list$to$dom=list[to].dom)||void 0===_list$to$dom?void 0:_list$to$dom.getBoundingClientRect(),prevBox:null===(_list$from$dom=list[from].dom)||void 0===_list$from$dom?void 0:_list$from$dom.getBoundingClientRect()}}}(states):"byPosition"==by?function timeBoxes(state){var _dom$getBoundingClien,key=state.key,dom=state.dom,box=null!==(_dom$getBoundingClien=null==dom?void 0:dom.getBoundingClientRect())&&void 0!==_dom$getBoundingClien?_dom$getBoundingClien:null,prevBox=boxMap.get(key);return boxMap.set(key,box),{box:box,prevBox:prevBox}}:WARNS.bind("noDeltaStyle",by)}function useAnimeEffect(states){var options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},_options$deltaStyle=options.deltaStyle,deltaStyle=void 0===_options$deltaStyle?"byPosition":_options$deltaStyle,_useRef2=Object(react.useRef)(new Map),boxMap=_useRef2.current,forceRender=useDebounceRender(),getBoxes=madeBoxesGetter(deltaStyle,states,boxMap);Object(react.useMemo)((function(_){return states.forEach((function(state,i){var _state$dx,_state$dy;state.ref=react_default.a.createRef(),state.dx=null!==(_state$dx=state.dx)&&void 0!==_state$dx?_state$dx:0,state.dy=null!==(_state$dy=state.dy)&&void 0!==_state$dy?_state$dy:0,state.nextPhases.push(state.phase),"move"==state.phase&&(state.phase=state.prevPhase);var done=state.done;state.done=function(){done(),boxMap.set(state.key,null==state?void 0:state.dom.getBoundingClientRect())}}))}),[states]),Object(react.useLayoutEffect)((function(){var _step8,_iterator8=Object(createForOfIteratorHelper.a)(states);try{for(_iterator8.s();!(_step8=_iterator8.n()).done;){var state=_step8.value,_state$ref$current=(state.key,state.from,state.to,state.ref.current),dom=void 0===_state$ref$current?null:_state$ref$current;state.phase=state.nextPhases.pop(),state.dom=dom;var _getBoxes=getBoxes(state),box=_getBoxes.box,prevBox=_getBoxes.prevBox;prevBox&&box&&(state.dx=prevBox.x-box.x,state.dy=prevBox.y-box.y)}}catch(err){_iterator8.e(err)}finally{_iterator8.f()}forceRender()}),[states])}function WARNS(test,code,arg0){var codes={overflow:"above ".concat(arg0," items waiting to draw. consider faster your animation"),deltaStyle:'delta style can be: "byPosition" or "byLocation", current:'.concat(arg0)};test&&console.warn(codes[code])}__webpack_require__(844),__webpack_require__(846);var _state2class,lib=__webpack_require__(452),jsx_runtime=__webpack_require__(48),state2class=(__webpack_exports__.default={title:"Components/AnimeManger",decorators:[lib.jsxDecorator],args:{xyz:"appear-stagger-2 appear-narrow-50% appear-fade-100% out-right-100%",style:{"--xyz-appear-duration":"3s"},xCssProperty:"--xyz-translate-x",yCssProperty:"--xyz-translate-y"},argTypes:{}},_state2class={},Object(defineProperty.a)(_state2class,ADD,"xyz-appear"),Object(defineProperty.a)(_state2class,REMOVE,"xyz-out xyz-absolute"),Object(defineProperty.a)(_state2class,"move","xyz-in"),Object(defineProperty.a)(_state2class,STATIC,""),_state2class),Anime_Manger_stories_CounterMultiChildren=function CounterMultiChildren(_ref){var args=Object(esm_extends.a)({},_ref);console.log("-------------------------");var _useState=Object(react.useState)(1),_useState2=Object(slicedToArray.a)(_useState,2),count=_useState2[0],setCounter=_useState2[1],states=useAnimeManager(count);return Object(react.useEffect)((function(_){setTimeout((function(_){setCounter(count+1)}),1500)}),[count]),states.map((function(_ref2){var number=_ref2.item,key=_ref2.key,phase=_ref2.phase,done=_ref2.done;return Object(jsx_runtime.jsx)("div",{xyz:args.xyz,className:"item "+state2class[phase],onAnimationEnd:done,children:number},key)}))};Anime_Manger_stories_CounterMultiChildren.args={};var Anime_Manger_stories_CounterOneChild=function CounterOneChild(_ref3){var args=Object(esm_extends.a)({},_ref3);console.log("-------------------------");var _useState3=Object(react.useState)(1),_useState4=Object(slicedToArray.a)(_useState3,2),count=_useState4[0],setCounter=_useState4[1],_useAnimeManager=useAnimeManager(count,{oneAtATime:!0}),number=_useAnimeManager.item,key=_useAnimeManager.key,phase=_useAnimeManager.phase,done=_useAnimeManager.done;return Object(react.useEffect)((function(_){setTimeout((function(_){return setCounter(1+count)}),1e3)}),[count]),Object(jsx_runtime.jsx)("div",{xyz:args.xyz,className:"item "+state2class[phase],onAnimationEnd:done,children:number},key)};Anime_Manger_stories_CounterOneChild.displayName="CounterOneChild",Anime_Manger_stories_CounterOneChild.args={};var Anime_Manger_stories_ShowHide=function ShowHide(_ref4){var args=Object(esm_extends.a)({},_ref4),_useState5=Object(react.useState)(!0),_useState6=Object(slicedToArray.a)(_useState5,2),show=_useState6[0],setShow=_useState6[1],_useAnimeManager2=useAnimeManager(show,{oneAtATime:!0}),flag=_useAnimeManager2.item,phase=_useAnimeManager2.phase,ref=(_useAnimeManager2.dx,_useAnimeManager2.dy,_useAnimeManager2.ref),done=_useAnimeManager2.done;useAppear();return flag||done(),Object(jsx_runtime.jsxs)("div",{children:[Object(jsx_runtime.jsx)("button",{onClick:function toggle(){setShow(!show)},children:show?"To hide":"To show"}),Object(jsx_runtime.jsx)("ol",{className:"list-2",xyz:args.xyz,children:flag&&Object(jsx_runtime.jsxs)("li",{className:["item",state2class[phase]].join(" "),ref:ref,onAnimationEnd:done,children:["one InOut value:",String(flag)]})})]})};Anime_Manger_stories_ShowHide.displayName="ShowHide",Anime_Manger_stories_ShowHide.args={showHide:!0};var Anime_Manger_stories_ComponentList=function ComponentList(_ref5){var list=_ref5.list,args=(_ref5.classAppear,_ref5.classIn,_ref5.classOut,Object(objectWithoutProperties.a)(_ref5,["list","classAppear","classIn","classOut"])),_useState7=Object(react.useState)(list),_useState8=Object(slicedToArray.a)(_useState7,2),internalList=_useState8[0],setList=_useState8[1],counter=Object(react.useRef)(list.length),items=useAnimeManager(internalList,{useEffect:!0});useAppear();return Object(jsx_runtime.jsxs)("div",{children:[Object(jsx_runtime.jsx)("button",{onClick:function add(){var index=document.getElementById("add-from").value;internalList.splice(+index,0,++counter.current),console.log(internalList),setList(Object(toConsumableArray.a)(internalList))},children:"add in random"}),Object(jsx_runtime.jsx)("button",{onClick:function remove(){var index=document.getElementById("add-from").value,pos=Math.min(internalList.length-1,+index);setList(internalList.filter((function(c,i){return i!==pos})))},children:"remove from random"}),Object(jsx_runtime.jsxs)("div",{children:["Remove from ",Object(jsx_runtime.jsx)("input",{type:"text",id:"remove-from",defaultValue:10}),"Add to ",Object(jsx_runtime.jsx)("input",{type:"text",id:"add-from",defaultValue:0})]}),Object(jsx_runtime.jsx)("ol",{className:"list-1",xyz:args.xyz,style:{"animation-duration":"3s"},children:items.map((function(_ref6){var number=_ref6.item,phase=_ref6.phase,dy=(_ref6.dx,_ref6.dy),ref=_ref6.ref,done=_ref6.done;return Object(jsx_runtime.jsx)("li",{className:["item",state2class[phase]].join(" "),ref:ref,style:Object(defineProperty.a)({},args.yCssProperty,"".concat(dy,"px")),onAnimationEnd:done,children:number},"key"+number)}))})]})};Anime_Manger_stories_ComponentList.displayName="ComponentList",Anime_Manger_stories_ComponentList.args={list:[1,2,3,4,5],addInPosition:0,removeFromPosition:0},Anime_Manger_stories_CounterMultiChildren.parameters=Object.assign({storySource:{source:"function ({...args}) {\r\n    console.log('-------------------------');\r\n\r\n    const [count, setCounter] = useState(1)\r\n    const states = useAnimeManager(count)\r\n    // states = [{item:1, phase:'add', from:-1, to:0, done}]\r\n    useEffect(_ => {\r\n        setTimeout(_ => {\r\n            setCounter(count + 1);\r\n        }, 1500)\r\n    }, [count])\r\n\r\n    // states = [\r\n    //  {item:1, phase:'remove', from:0, to:-1, done},\r\n    //  {item:2, phase:'add', from:-1, to:0, done}\r\n    // ]\r\n    return states.map(({item: number, key, phase, done}) => (\r\n        <div xyz={args.xyz} key={key} className={\"item \" + state2class[phase]}\r\n             onAnimationEnd={done}>{number}</div>\r\n    ))\r\n    // after `done()` called on item 2 it phase become `static`\r\n    // states = [\r\n    //  {item:1, phase:'remove', from:0, to:-1, done},\r\n    //  {item:2, phase:'static', from:-1, to:0, done}\r\n    // ]\r\n\r\n    // after `done()` called on item 1, it removed\r\n    // states = [\r\n    //  {item:2, phase:'static', from:-1, to:0, done}\r\n    // ]\r\n}"}},Anime_Manger_stories_CounterMultiChildren.parameters),Anime_Manger_stories_CounterOneChild.parameters=Object.assign({storySource:{source:"function ({...args}) {\r\n    console.log('-------------------------');\r\n\r\n    const [count, setCounter] = useState(1)\r\n    const {item: number, key, phase, done} = useAnimeManager(count, {oneAtATime: true})\r\n    // states = [{item:1, phase:'add', from:Infinity, to:0, done}]\r\n    useEffect(_ => {\r\n        setTimeout(_ => setCounter(1 + count), 1000)\r\n    }, [count])\r\n\r\n    // states = [\r\n    //  {item:1, phase:'remove', from:0, to:-1, done},\r\n    //  {item:2, phase:'add', from:-1, to:0, done}\r\n    // ]\r\n    return <div xyz={args.xyz} key={key}\r\n                className={\"item \" + state2class[phase]}\r\n                onAnimationEnd={done}>{number}</div>\r\n    // after `done()` called on item 2 it phase become `static`\r\n    // states = [\r\n    //  {item:1, phase:'remove', from:0, to:-1, done},\r\n    //  {item:2, phase:'static', from:-1, to:0, done}\r\n    // ]\r\n\r\n    // after `done()` called on item 1, it removed\r\n    // states = [\r\n    //  {item:2, phase:'static', from:-1, to:0, done}\r\n    // ]\r\n}"}},Anime_Manger_stories_CounterOneChild.parameters),Anime_Manger_stories_ShowHide.parameters=Object.assign({storySource:{source:"({...args}) => {\r\n    const [show, setShow] = useState(true);\r\n    const {item: flag, phase, dx, dy, ref, done} = useAnimeManager(show, {\r\n        oneAtATime: true,\r\n\r\n    });\r\n\r\n    const isAppear = useAppear();\r\n\r\n    function toggle() {\r\n        setShow(!show)\r\n    }\r\n\r\n    if (!flag) done()\r\n\r\n    return <div>\r\n        <button onClick={toggle}>{show ? 'To hide' : 'To show'}</button>\r\n        <ol className=\"list-2\" xyz={args.xyz}>{\r\n            flag && <li\r\n                className={[\"item\", state2class[phase]].join(' ')}\r\n                ref={ref}\r\n                onAnimationEnd={done}\r\n            >one InOut value:{String(flag)}</li>\r\n        }</ol>\r\n    </div>\r\n}"}},Anime_Manger_stories_ShowHide.parameters),Anime_Manger_stories_ComponentList.parameters=Object.assign({storySource:{source:"function ComponentList({list, classAppear, classIn, classOut, ...args}) {\r\n    const [internalList, setList] = useState(list)\r\n    const counter = useRef(list.length)\r\n    const items = useAnimeManager(internalList, {useEffect: true});\r\n    const isAppear = useAppear();\r\n\r\n    function add() {\r\n        // let pos = ~~(Math.random() * internalList.length);\r\n        let index = document.getElementById('add-from').value;\r\n        internalList.splice(+index, 0, ++counter.current)\r\n        console.log(internalList);\r\n        setList([...internalList]);\r\n    }\r\n\r\n    function remove() {\r\n        // let pos = ~~(Math.random() * internalList.length);\r\n        let index = document.getElementById('add-from').value;\r\n        let pos = Math.min(internalList.length - 1, +index);\r\n        setList(internalList.filter((c, i) => i !== pos));\r\n    }\r\n\r\n\r\n    return <div>\r\n        <button onClick={add}>add in random</button>\r\n        <button onClick={remove}>remove from random</button>\r\n        <div>\r\n            Remove from <input type=\"text\" id=\"remove-from\" defaultValue={10}/>\r\n            Add to <input type=\"text\" id=\"add-from\" defaultValue={0}/>\r\n        </div>\r\n        <ol className=\"list-1\" xyz={args.xyz} style={{'animation-duration': '3s'}}>\r\n            {items.map(({item: number, phase, dx, dy, ref, done}) => (\r\n                <li key={'key' + number}\r\n                    className={[\"item\", state2class[phase]].join(' ')}\r\n                    ref={ref}\r\n                    style={{[args.yCssProperty]: `${dy}px`}}\r\n                    onAnimationEnd={done}\r\n\r\n                >{number}</li>\r\n            ))}\r\n        </ol>\r\n    </div>\r\n}"}},Anime_Manger_stories_ComponentList.parameters),Anime_Manger_stories_CounterOneChild.__docgenInfo={description:"",methods:[],displayName:"CounterOneChild"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src\\stories\\Anime-Manger.stories.jsx"]={name:"CounterOneChild",docgenInfo:Anime_Manger_stories_CounterOneChild.__docgenInfo,path:"src\\stories\\Anime-Manger.stories.jsx"}),Anime_Manger_stories_ShowHide.__docgenInfo={description:"",methods:[],displayName:"ShowHide"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src\\stories\\Anime-Manger.stories.jsx"]={name:"ShowHide",docgenInfo:Anime_Manger_stories_ShowHide.__docgenInfo,path:"src\\stories\\Anime-Manger.stories.jsx"}),Anime_Manger_stories_ComponentList.__docgenInfo={description:"",methods:[],displayName:"ComponentList"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src\\stories\\Anime-Manger.stories.jsx"]={name:"ComponentList",docgenInfo:Anime_Manger_stories_ComponentList.__docgenInfo,path:"src\\stories\\Anime-Manger.stories.jsx"})}},[[473,2,3]]]);